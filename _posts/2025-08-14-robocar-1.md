---
layout: post
title:  "蓝牙通信"
author: "David"
header-style: text
tags: 
    - stem教育
    - Maker
    - 智能车
---

>生活总是要向前去的，而关于生活是向后来的      ——克尔凯吉尔



# johnny-five智能车通信技术

我们越能控制自己的工作，引导我们的工作向着我们认为有趣的相关方向发展，就越不需要调用意志力去强迫自己完成这件事情。 只有这样，工作本身才能成为动力的源泉，这对工作的可持续发展至关重要。

## 建立arduino uno与电脑的蓝牙串口连接[^0]

原材料：
* CH340 USB转TTL板
* 两个HC-05(或06)蓝牙
* 电脑
* arduino uno开发板
* 串口调试助手
* 导线若干
* 面包板一块

![连线](https://img.alicdn.com/imgextra/i1/690560907/O1CN01pGLneC1IZRmUnDPo4_!!690560907.png)

1. 进入AT模式
按住HC-05上的按键的同时再插上VCC(5V)的连接线，持续一两秒钟左右，可以看到蓝牙提示灯处于慢速闪烁状态，放开按键此时蓝牙处于AT设置模式。

通过以下命令分别设置两个主从蓝牙模块
```
AT+ORGL           //恢复默认设置
AT+PSWD=1234      //设置配对密码
AT+ROLE=0 (1)     //设置蓝牙模块分别为主从方式 
AT+UART=57600,0,0 //设置蓝牙波特率为57600
AT+ADDR           //查询蓝牙mac地址，记下从模块地址比如（98d3:31:306c0e）
AT+BIND=“从模块地址”
```

从蓝牙模块如图所示接入arduino uno板
![uno连线](https://camo.githubusercontent.com/e68f270800a4a0552d0fbf9063f13b4978e3c2134a13b4d6b080ea0fce3332fe/687474703a2f2f692e696d6775722e636f6d2f666a4d435856782e706e67)

单独将主蓝牙模块的5V和GND连接到USB转TTL模块上，连接至电脑，从蓝牙模块快闪。两模块同时快闪时，代表两模块都处于配对状态，此时快闪状态停顿一下后开始每隔两秒连续快闪两次，代表两蓝牙模块已经互相配对成功。

```js
const { Board, Led } = require("johnny-five");
const board = new Board();

// The board's pins will not be accessible until
// the board has reported that it is ready
board.on("ready", () => {
  console.log("Ready!");

  const led = new Led(13);
  led.blink(500);
});

``` 
通过以上步骤，Johnny-Five 即可通过蓝牙串口与 Arduino 通信。实际项目中，可扩展为传感器数据监控（如温度传感器）或无线机器人控制。


[^0]:[aruino蓝牙串口连接](https://blog.csdn.net/jianghaoran1/article/details/121868804)